(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{108:function(e,t,n){"use strict";n.r(t);var a=n(9),c=n(10),l=n(12),o=n(11),s=n(13),r=n(1),i=n.n(r),m=n(66),d=n.n(m),u=n(96),b=n.n(u),f=null,g="https://api.usearch.me";var h=function(e){function t(){var e,n;Object(a.a)(this,t);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={connected:!1,greetings:[],value:""},n.onChangeValue=function(e){n.setState({value:e.target.value})},n.onClickConnect=function(e){e.preventDefault(),function(e,t){var n=new d.a(g+"/websockethandler");(f=b.a.over(n)).connect({},function(n){e(!0),console.log("Connected: "+n),f.subscribe("/topic/greetings",function(e){console.log("subscribe: "+e),t(JSON.parse(e.body).content)})})}(n.setConnected,n.showGreeting)},n.onClickDisconnect=function(e){var t;e.preventDefault(),t=n.setConnected,null!==f&&f.disconnect(),t(!1),console.log("Disconnected")},n.onClickSendName=function(e){var t;e.preventDefault(),t=n.state.value,f.send("/app/hello",{},JSON.stringify({name:t}))},n.setConnected=function(e){n.setState({connected:e,greetings:[]})},n.showGreeting=function(e){n.setState({greetings:n.state.greetings.concat(e)})},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.connected,n=e.greetings.map(function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e))});return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-9 mx-auto"},i.a.createElement("h1",{className:"display-4"},"WebSocket Chat"),i.a.createElement("p",{className:"lead"},"test test"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("form",{className:"form-inline"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"connect"},"WebSocket connection:"),i.a.createElement("button",{id:"connect",className:"btn btn-default",disabled:t,onClick:this.onClickConnect},"Connect"),i.a.createElement("button",{id:"disconnect",className:"btn btn-default",disabled:!t,onClick:this.onClickDisconnect},"Disconnect")))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("form",{className:"form-inline"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"name"},"What is your name?"),i.a.createElement("input",{type:"text",id:"name",className:"form-control",placeholder:"Your name here...",onChange:this.onChangeValue})),i.a.createElement("button",{id:"send",className:"btn btn-default",type:"submit",onClick:this.onClickSendName},"Send")))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("table",{id:"conversation",className:"table table-striped"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Greetings"))),i.a.createElement("tbody",{id:"greetings"},n)))))}}]),t}(i.a.Component);t.default=h}}]);
//# sourceMappingURL=2.ee497511.chunk.js.map